<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gradient Designer</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="./LOGO.svg" type="image/x-icon">
</head>

<body>
  <div id="zoomIndicator" class="zoom-indicator">100%</div>
  <header>
    <img class="logo" src="./LOGO.svg" alt="logo">
    <h1 class="name">Gradient Designer</h1>
    <div style="flex: 1;"></div>
    <div class="theme-select">
      <select id="themeSelect">
        <option value="dark" selected >Dark</option>
        <option value="light">Light</option>
        <option value="dep-dark">DepDark</option>
        <option value="midnight">MidNight</option>
      </select>
    </div>
    
    
  </header>
  <div class="aspect-ratio-continer">
    <!-- Aspect Ratio Buttons -->
    <div class="aspect-ratio-row">
      <label class="Aspect-Ratio-label">Aspect Ratio</label>
      <div class="aspect-ratio-btns" id="aspectBtns">
        <button class="aspect-btn active" data-ratio="free" title="Free">
          Free
        </button>
        <button class="aspect-btn" data-ratio="1:1" title="Square">1:1</button>
        <button class="aspect-btn" data-ratio="4:3" title="4:3">4:3</button>
        <button class="aspect-btn" data-ratio="16:9" title="Widescreen">16:9</button>
        <button class="aspect-btn" data-ratio="9:16" title="Portrait">9:16</button>
      </div>
    </div>
    <!-- Aspect Ratio Inputs -->
    <div class="aspect-input-row">
      <input type="number" id="aspectW" class="aspect-input-num" placeholder="W" min="1" max="100" title="Aspect Width">
      <span class="aspect-separator">:</span>
      <input type="number" id="aspectH" class="aspect-input-num" placeholder="H" min="1" max="100"
        title="Aspect Height">
      <button class="aspect-lock-btn" id="aspectLockBtn" title="Lock Aspect Ratio (L)">
        <img src="./icon/unlock.svg" alt="unlock" id="aspectLockIcon">
      </button>
    </div>
    <div class="resolution-presets">
      <label class="size-label">size</label>
      <div class="preset-btns">
        <button class="preset-btn" data-w="1280" data-h="720">HD</button>
        <button class="preset-btn" data-w="1920" data-h="1080">FHD</button>
        <button class="preset-btn" data-w="2560" data-h="1440">2K</button>
        <button class="preset-btn" data-w="3840" data-h="2160">4K</button>
      </div>
    </div>
  <!-- Size Inputs -->
  <div class="size-inputs-row">
    <div class="size-input-group">
      <label>W</label>
      <input type="number" id="canvasWidth" class="num-input" min="200" max="3840" value="800">
    </div>

    <button class="size-link-btn" id="sizeLinkBtn" title="Link dimensions">
      <img src="./icon/link.svg" alt="link">
    </button>

    <div class="size-input-group">
      <label>H</label>
      <input type="number" id="canvasHeight" class="num-input" min="200" max="2160" value="600">
    </div>
  </div>
    <!-- Swap Button -->
    <button class="swap-size-btn" id="swapSizeBtn" title="Swap dimensions (X)">
      <img src="./icon/swap.svg" alt="swap">
      <span>Swap</span>
    </button>
  </div>


  <div class="canvas-wrap">
    <div class="canvas-container">
      <div class="canvas-wrapper">
        <canvas id="canvas"></canvas>
        <div class="resize-w">
          <div id="resizeWidthHandle" class="resize-width"></div>
          <button id="btnLock" class="Handle-btn" title="Lock to Center">
            <img src="./icon/unlock.svg" alt="unlocked">
          </button>
        </div>
        <div class="resize-h">
          <button id="toggleHandles" class="Handle-btn" title="Toggle handle visibility (H)"><img
              src="./icon/eye.svg" alt="show handel"></button>
          <div id="resizeHeightHandle" class="resize-height"></div>
        </div>
      </div>
    </div>
    <!-- Zoom Controls -->
    <div class="zoom-controls">
      <button id="zoomOut" title="Zoom Out (Ctrl -)"><img src="./icon/minus.svg" alt="Zoom Out"></button>
      <input type="range" id="zoomSlider" class="zoom-slider" min="25" max="400" value="100">
      <button id="zoomIn" title="Zoom In (Ctrl +)"><img src="./icon/plus.svg" alt="Zoom in"></button>
      <span id="zoomValue" class="zoom-value">100%</span>
      <!-- <button id="zoomReset" class="zoom-btn" title="Reset (Ctrl 0)">Reset</button> -->
      <button id="zoomFit" class="zoom-btn" title="Fit (F)"><img src="./icon/fit.svg" alt="Fit"></button>
    </div>
  </div>

  <aside class="panel">
<div class="section">
  <div class="section-header">
    <div class="section-title">Noise / Grain</div>
    <button id="noiseToggleBtn" class="control-btn" title="Toggle noise">
      <img src="./icon/eye.svg" alt="toggle">
    </button>
  </div>
  <div class="noise-controls">
    <div class="form-row">
      <label>Strength</label>
      <input type="number" id="noiseOpacity" class="num-input" min="0" max="100" value="0">
    </div>
    <div class="form-row">
      <label>Frequency</label>
      <input type="number" id="noiseFrequency" class="num-input" min="0.01" max="1" step="0.01" value="0.65">
    </div>
    <div class="form-row">
      <label>Blend</label>
      <select id="noiseBlend" class="noise-blend-select">
        <option value="overlay" selected>Overlay</option>
        <option value="soft-light">Soft Light</option>
        <option value="hard-light">Hard Light</option>
        <option value="multiply">Multiply</option>
        <option value="screen">Screen</option>
      </select>
    </div>
  </div>
</div>
<!-- Filters Section -->
<div class="section">
  <div class="section-header">
    <div class="section-title">Filters</div>
    <button id="filtersResetBtn" class="control-btn" title="Reset filters">
      <img src="./icon/reset.svg" alt="reset">
    <button id="filtersToggleBtn" class="control-btn" title="Toggle filters">
      <img src="./icon/eye.svg" alt="toggle">
    </button>
    </button>
  </div>
  
  <div class="filter-controls">
    <!-- Brightness -->
    <div class="filter-row">
      <label>Brightness</label>
      <input type="range" id="filterBrightness" class="filter-slider" min="0" max="200" value="100">
      <input type="number" id="filterBrightnessNum" class="num-input" min="0" max="200" value="100">
      <span class="unit">%</span>
    </div>
    
    <!-- Contrast -->
    <div class="filter-row">
      <label>Contrast</label>
      <input type="range" id="filterContrast" class="filter-slider" min="0" max="200" value="100">
      <input type="number" id="filterContrastNum" class="num-input" min="0" max="200" value="100">
      <span class="unit">%</span>
    </div>
    
    <!-- Saturation -->
    <div class="filter-row">
      <label>Saturate</label>
      <input type="range" id="filterSaturate" class="filter-slider" min="0" max="200" value="100">
      <input type="number" id="filterSaturateNum" class="num-input" min="0" max="200" value="100">
      <span class="unit">%</span>
    </div>
    
    <!-- Hue Rotate -->
    <div class="filter-row">
      <label>Hue</label>
      <input type="range" id="filterHue" class="filter-slider hue-slider" min="0" max="360" value="0">
      <input type="number" id="filterHueNum" class="num-input" min="0" max="360" value="0">
      <span class="unit" style="margin-right: 5px;">°</span>
    </div>
    
    <!-- Blur -->
    <div class="filter-row">
      <label>Blur</label>
      <input type="range" id="filterBlur" class="filter-slider" min="0" max="20" step="0.5" value="0">
      <input type="number" id="filterBlurNum" class="num-input" min="0" max="20" step="0.5" value="0">
      <span class="unit">px</span>
    </div>
    
    <!-- Grayscale -->
    <div class="filter-row">
      <label>Grayscale</label>
      <input type="range" id="filterGrayscale" class="filter-slider" min="0" max="100" value="0">
      <input type="number" id="filterGrayscaleNum" class="num-input" min="0" max="100" value="0">
      <span class="unit">%</span>
    </div>
    
    <!-- Sepia -->
    <div class="filter-row">
      <label>Sepia</label>
      <input type="range" id="filterSepia" class="filter-slider" min="0" max="100" value="0">
      <input type="number" id="filterSepiaNum" class="num-input" min="0" max="100" value="0">
      <span class="unit">%</span>
    </div>
    
    <!-- Invert -->
    <div class="filter-row">
      <label>Invert</label>
      <input type="range" id="filterInvert" class="filter-slider" min="0" max="100" value="0">
      <input type="number" id="filterInvertNum" class="num-input" min="0" max="100" value="0">
      <span class="unit">%</span>
    </div>
  </div>
</div>
        <div class="section">
      <div class="section-title" style="margin-bottom: 1rem;">BackGraond</div>
    <div class="color-swatch" id="bgBtn">
      <div class="color-swatch-inner" id="bgPreview"></div>
    </div></div>
    <div class="section">
      <div class="section-header">
        <div class="section-title">Layers</div>
        <div class="gradient-btn-bar">
          <button id="btnRadial" class="btn gradient-btn">Radial</button>
          <button id="btnLinear" class="btn gradient-btn">Linear</button>
          <button id="btnConic" class="btn gradient-btn">Conic</button>
        </div>
        <!-- <button id="btnReset" style="color:var(--danger)">Clear</button> -->
      </div>
      <div id="list"></div>
    </div>
    <div class="section">
      <div class="section-title" style="margin-bottom: 1rem;">Properties</div>
      <div id="inspector"></div>
    </div>
<!-- Output Section با سه iframe جداگانه -->
<div class="section">
  <div class="section-header">
    <div class="section-title">Output</div>
    <div class="export-btns">
      <select id="exportSelect">
        <option value="">Export As...</option>
        <option value="png">PNG</option>
        <option value="jpg">JPG</option>
        <option value="svg">SVG</option>
      </select>
    </div>
    <div class="Format">
      <select id="cssFormat">
        <option value="hex">HEX</option>
        <option value="rgba" selected>RGBA</option>
        <option value="hsla">HSLA</option>
      </select>
    </div>
    <button id="copyBtn" class="copy-btn" onclick="copyCSS()">
      <img class="copy-svg" src="./icon/copy.svg" alt="copy">
      <span>Copy All</span>
    </button>
  </div>
  
  <!-- Gradient CSS -->
  <div class="output-block">
    <div class="output-header">
      <span>Gradient</span>
      <button class="copy-btn" onclick="copyGradientCSS()">
        <img class="copy-svg" src="./icon/copy.svg" alt="copy">Copy
      </button>
    </div>
    <iframe id="cssGradient" class="css-output"></iframe>
  </div>

  <div class="output-block" id="noiseOutputBlock" style="display:none;">
    <div class="output-header">
      <span>Fillter Noise</span>
      <button class="copy-btn" onclick="copyNoiseCSS()">
        <img class="copy-svg" src="./icon/copy.svg" alt="copy">Copy
      </button>
    </div>
    <iframe id="cssNoise" class="css-output css-output-sm"></iframe>
  </div>
  
  <div class="output-block" id="svgOutputBlock" style="display:none;">
    <div class="output-header">
      <span>Noise SVG</span>
      <button class="copy-btn" onclick="copySVGFilter()">
        <img class="copy-svg" src="./icon/copy.svg" alt="copy">Copy
      </button>
    </div>
    <iframe id="cssSVG" class="css-output css-output-sm"></iframe>
  </div>
</div>
  </aside>
  </div>

  <div class="picker-overlay" id="pickerOverlay">
    <div class="picker-modal">
      <div class="picker-header">
        <span class="picker-title">Color</span>
        <button class="picker-close" id="pickerClose">
          <img src="./icon/close.svg" alt="close">
        </button>
      </div>

      <div class="sb-box" id="sbBox">
        <div class="sb-cursor" id="sbCursor"></div>
      </div>

      <div class="slider-track hue-track" id="hueTrack">
        <div class="slider-thumb" id="hueThumb"></div>
      </div>

      <div class="slider-track alpha-track" id="alphaTrack">
        <div class="slider-thumb" id="alphaThumb"></div>
      </div>

      <!-- Recent Colors -->
      <div class="recent-colors" id="recentColors">
        <div class="recent-colors-title">Recent</div>
        <div class="recent-colors-list" id="recentColorsList"></div>
      </div>

      <div class="picker-inputs">
        <div class="format-btns">
          <button class="format-btn" data-f="hex">HEX</button>
          <button class="format-btn" data-f="rgb">RGB</button>
          <button class="format-btn" data-f="hsl">HSL</button>
        </div>
        <div class="picker-fields" id="fields"></div>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>

</html>